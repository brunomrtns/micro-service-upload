{"version":3,"sources":["../../src/middlewares/exceptionValidation.ts"],"sourcesContent":["import type { ErrorRequestHandler } from 'express'\n\nimport { ZodError } from 'zod'\nimport { AxiosError } from 'axios'\n\nexport const exceptionValidation: ErrorRequestHandler = async (err, req, res, next) => {\n  if (err instanceof ZodError) {\n    return res.status(400).json({\n      errors: err.errors.map(error => `${error.path} ${error.message}`)\n    })\n  }\n\n  if (err instanceof AxiosError) {\n    return res.status(err.response?.status || 500).json({\n      errors: err.response?.data\n    })\n  }\n\n  return res.status(500).json({\n    errors: [err.message]\n  })\n}\n"],"names":["exceptionValidation","err","req","res","next","ZodError","status","json","errors","map","error","path","message","AxiosError","response","data"],"mappings":";;;;+BAKaA;;;eAAAA;;;qBAHY;uBACE;AAEpB,MAAMA,sBAA2C,OAAOC,KAAKC,KAAKC,KAAKC;IAC5E,IAAIH,eAAeI,aAAQ,EAAE;QAC3B,OAAOF,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;YAC1BC,QAAQP,IAAIO,MAAM,CAACC,GAAG,CAACC,CAAAA,QAAS,CAAC,EAAEA,MAAMC,IAAI,CAAC,CAAC,EAAED,MAAME,OAAO,CAAC,CAAC;QAClE;IACF;IAEA,IAAIX,eAAeY,iBAAU,EAAE;QAC7B,OAAOV,IAAIG,MAAM,CAACL,IAAIa,QAAQ,EAAER,UAAU,KAAKC,IAAI,CAAC;YAClDC,QAAQP,IAAIa,QAAQ,EAAEC;QACxB;IACF;IAEA,OAAOZ,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;QAC1BC,QAAQ;YAACP,IAAIW,OAAO;SAAC;IACvB;AACF"}